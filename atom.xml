<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Malone Jau&#39;s Blog</title>
  
  <subtitle>get progress day by day</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://sssglq.github.io/"/>
  <updated>2019-12-28T15:52:06.190Z</updated>
  <id>https://sssglq.github.io/</id>
  
  <author>
    <name>Malone Jau</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>人脸解锁从底层到上层（一）</title>
    <link href="https://sssglq.github.io/2019/12/28/FaceAuthenticationOne/"/>
    <id>https://sssglq.github.io/2019/12/28/FaceAuthenticationOne/</id>
    <published>2019-12-28T07:56:40.000Z</published>
    <updated>2019-12-28T15:52:06.190Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>本系列将探索 Android 原生人脸解锁，从底层介绍到上层，涉及底层硬件、驱动、系统服务、框架、应用、跨进程通信、接口定义语言等知识。欢迎和我一起探讨，指出我的错误或不足，完善该系列，帮助更多有需要的人。</p><h3 id="人脸解锁概述"><a href="#人脸解锁概述" class="headerlink" title="人脸解锁概述"></a>人脸解锁概述</h3><p>人脸解锁即用户通过注视设备的正面方便地解锁手机或平板。Android 10 为支持人脸解锁的设备在人脸认证期间添加了一个新的可以安全处理相机帧、保持隐私与安全的人脸认证栈的支持，也为安全合规地启用集成交易的应用（网上银行或其他服务）提供了一种容易实现的方式。</p><p>Android 原生的人脸认证栈在 Android 10 是一种新的实现，与 Android P 不一样了。新的实现介绍了 <code>IBiometricsFace.hal</code> ，<code>IBiometricsFaceClientCallback.hal</code> 和 <code>types.hal</code> 这些接口。</p><h3 id="架构"><a href="#架构" class="headerlink" title="架构"></a>架构</h3><p>这里要说到 <code>BiometricsPrompt</code> 这个 API，它囊括了 Android 所有生物识别，包括人脸、指纹、虹膜。人脸 HAL 与如下组件进行交互（HAL 全称硬件抽象层）：</p><p><img src="http://q2vfud0dr.bkt.clouddn.com/biometricStack.png" alt="生物认证栈"></p><p>可以看到，通过 <code>FingerprintManager</code> 实现支持库和系统服务之间的通信在 Android P 被废弃了，在 Android 10 或者更高的版本通过 <code>BiometricManager</code> 实现支持库和系统服务之间的通信，系统服务和驱动以及硬件通信，打通从底层到上层，从而实现人脸解锁。<code>BiometricManager</code>、 <code>BiometricService</code> 对应到人脸解锁分别使用 <code>FaceManager</code>、 <code>FaceService</code>，驱动及硬件实现规定为 <code>faced</code>。</p><h3 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h3><p><code>faced</code> 是实现了 <code>FaceService</code> 使用的 <code>Face 1.0 HIDL</code> 接口的 Linux 可执行文件，其注册自己为 <code>IBiometricsFace@1.0</code> 以便 <code>FaceService</code> 可以找到它。</p><h4 id="IDL"><a href="#IDL" class="headerlink" title="IDL"></a>IDL</h4><p>讲 HIDL 之前先讲讲 IDL，因为后面还会出现 AIDL，所以先做点知识储备，以防不时之需。</p><p>IDL 全称 interface description language 或者 interface definition language，是一种用于描述软件组件的应用编程接口的规范语言。IDLs 通过一种语言独立的方式描述接口，使得软件组件之间的通信不用共享同一种编程语言，例如在那些用 C++ 编写的程序和用 Java 编写的程序之间的通信。</p><p>IDLs 常被用于远程过程调用软件。这些情况在连接的两端的机器可能使用不同的操作系统和计算机语言。IDLs 为两个不同的操作系统提供了一座桥梁。</p><h4 id="HIDL"><a href="#HIDL" class="headerlink" title="HIDL"></a>HIDL</h4><p>HAL 即 Hardware Abstract Layer，全称硬件抽象层。HAL 接口定义语言或者 HIDL 是一种指定一个 HAL 和它的使用者之间的接口的接口定义语言（IDL）。它允许指定收集到接口和包中的类型和方法调用。更广泛地，HIDL 是一个用于可能被独立编译的代码库之间的通信系统。</p><p>HIDL 旨在用于跨进程通信（IPC）。进程间的通信被称为绑定（Binderized）。对于必须链接到一个进程的库，直通模式也是可用的（不支持 Java）。</p><p>HIDL 指定数据结构和方法签名，这些结构和方法签名以收集到包中的接口（类似于类）进行组织。虽然 C++ 和 Java 编程者使用一组不同的关键字，但是 HIDL 的语法看起来很熟悉。HIDL 也使用 Java 风格的注解。</p><h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p>[1] <a href="https://source.android.com/security/biometric/face-authentication" target="_blank" rel="noopener">Face Authentication HIDL</a></p><p>[2] <a href="https://en.wikipedia.org/wiki/Interface_description_language" target="_blank" rel="noopener">Interface description language</a></p><p>[3] <a href="https://source.android.com/devices/architecture/hidl#header" target="_blank" rel="noopener">HIDL</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h3&gt;&lt;p&gt;本系列将探索 Android 原生人脸解锁，从底层介绍到上层，涉及底层硬件、驱动、系统服务、框架、应用、跨进程通信、接口定义语言等知识。欢迎
      
    
    </summary>
    
    
    
      <category term="Android" scheme="https://sssglq.github.io/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>Hexo NexT 主题添加评论和文章阅读量</title>
    <link href="https://sssglq.github.io/2019/12/24/readCountAndComment/"/>
    <id>https://sssglq.github.io/2019/12/24/readCountAndComment/</id>
    <published>2019-12-24T15:46:26.000Z</published>
    <updated>2019-12-24T16:52:33.201Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>折腾了畅言、gitalk、disqus 这些评论 API，最后都以失败告终，最终试到 valine 的时候终于成功，顺便把文章阅读量统计也搞定了。下面把我的经验写下来分享给大家，欢迎评论。</p><h3 id="Valine-介绍"><a href="#Valine-介绍" class="headerlink" title="Valine 介绍"></a><a href="https://valine.js.org" target="_blank" rel="noopener">Valine</a> 介绍</h3><p>Valine - 一款快速、简洁高效的无后端评论系统。</p><p>NexT 主题已经集成了 Valine 评论系统，只要填写一些参数即可使用。</p><h3 id="配置-LeanCloud"><a href="#配置-LeanCloud" class="headerlink" title="配置 LeanCloud"></a>配置 <a href="https://leancloud.cn" target="_blank" rel="noopener">LeanCloud</a></h3><h4 id="注册"><a href="#注册" class="headerlink" title="注册"></a>注册</h4><p>打开 <a href="https://leancloud.cn" target="_blank" rel="noopener">LeanCloud 官网</a>，进入注册页面进行注册。完成邮箱激活后，登录进入 <code>控制台</code> 页面，如下图：</p><p><img src="http://q2vfud0dr.bkt.clouddn.com/LeanCloud.JPG" alt=""></p><h4 id="创建新应用"><a href="#创建新应用" class="headerlink" title="创建新应用"></a>创建新应用</h4><p>创建一个新应用，类型为 JavaScript SDK，点击应用进入。创建名称为 Counter 的 Class，必须是 Counter，否则不能用。</p><h3 id="修改配置文件"><a href="#修改配置文件" class="headerlink" title="修改配置文件"></a>修改配置文件</h3><p>编辑主题目录下的 <code>_config.yml</code> 文件，修改如下：</p><p><img src="http://q2vfud0dr.bkt.clouddn.com/commet.JPG" alt=""></p><p><img src="http://q2vfud0dr.bkt.clouddn.com/valine.JPG" alt=""></p><p>appid 和 appkey 在 LeanCloud 的应用里 <code>设置 - 应用 Keys</code> 可以找到，复制粘贴即可。可顺便在 <code>安全中心</code> 中添加 <code>Web 安全域名</code>，填上自己博客的网址，保存即可。</p><h3 id="重新部署博客"><a href="#重新部署博客" class="headerlink" title="重新部署博客"></a>重新部署博客</h3><p>重新部署博客，即可看到配置的效果。</p><h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p>[1] <a href="http://www.jeyzhang.com/hexo-next-add-post-views.html#comments" target="_blank" rel="noopener">Hexo的NexT主题个性化：添加文章阅读量</a></p><p>[2] <a href="https://notes.doublemine.me/2015-10-21-%E4%B8%BANexT%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0%E6%96%87%E7%AB%A0%E9%98%85%E8%AF%BB%E9%87%8F%E7%BB%9F%E8%AE%A1%E5%8A%9F%E8%83%BD.html#%E9%85%8D%E7%BD%AELeanCloud" target="_blank" rel="noopener">为NexT主题添加文章阅读量统计功能</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h3&gt;&lt;p&gt;折腾了畅言、gitalk、disqus 这些评论 API，最后都以失败告终，最终试到 valine 的时候终于成功，顺便把文章阅读量统计也搞
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Photography Tutorial 1</title>
    <link href="https://sssglq.github.io/2019/12/21/PhotographyTutorial1/"/>
    <id>https://sssglq.github.io/2019/12/21/PhotographyTutorial1/</id>
    <published>2019-12-21T15:48:14.000Z</published>
    <updated>2019-12-24T15:48:04.636Z</updated>
    
    <content type="html"><![CDATA[<h3 id="缘起"><a href="#缘起" class="headerlink" title="缘起"></a>缘起</h3><p>为什么要讲摄影？其实只是想记录自己的学习经历，有空的时候经常看看加深记忆，如果我的经验能帮助到大家就更好了。</p><h3 id="构图"><a href="#构图" class="headerlink" title="构图"></a>构图</h3><p>常见的构图方式：</p><ul><li>居中构图（中心构图）</li><li>对称构图</li><li>对角线构图</li><li>三角形构图（偏离中心构图）</li><li>井字相交点构图（三分法构图）</li><li>层次构图</li><li>前景构图</li><li>延伸线构图</li><li>极简构图</li><li>框式构图（强烈的明暗对比）</li><li>正方形构图</li></ul><h3 id="对比"><a href="#对比" class="headerlink" title="对比"></a>对比</h3><p>常见的对比方式：</p><ul><li>明暗对比</li><li>新旧对比（古今对比）  </li></ul><p>新旧对比，例如老旧建筑和现代高楼大厦的对比，古建筑和现代建筑的对比。如图：  </p><p><img src="http://q2vfud0dr.bkt.clouddn.com/mmexport1576945679724%5B1%5D.jpg" alt="Macau"></p><p>老居民楼和新葡京的对比，强烈的视觉碰撞。</p><p><img src="http://q2vfud0dr.bkt.clouddn.com/IMG_20191019_124552%5B1%5D.jpg" alt=""></p><p>古老与现代的对比，两者之间的差距给人带来视觉冲击。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;缘起&quot;&gt;&lt;a href=&quot;#缘起&quot; class=&quot;headerlink&quot; title=&quot;缘起&quot;&gt;&lt;/a&gt;缘起&lt;/h3&gt;&lt;p&gt;为什么要讲摄影？其实只是想记录自己的学习经历，有空的时候经常看看加深记忆，如果我的经验能帮助到大家就更好了。&lt;/p&gt;
&lt;h3 id=&quot;构图&quot;
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Tour Of Tibet(西藏旅游)</title>
    <link href="https://sssglq.github.io/2019/12/15/TourOfTibet/"/>
    <id>https://sssglq.github.io/2019/12/15/TourOfTibet/</id>
    <published>2019-12-15T12:45:23.000Z</published>
    <updated>2019-12-24T15:50:01.505Z</updated>
    
    <content type="html"><![CDATA[<h3 id="记第一次西藏旅游"><a href="#记第一次西藏旅游" class="headerlink" title="记第一次西藏旅游"></a>记第一次西藏旅游</h3><p>去西藏的想法其实在 18 年秋季期就有了，考虑到工作后可能没那么多时间，所以打算毕业前五个人来一次西藏游。但是锡基学医五年制，学业繁忙，基本不考虑去了，剩下 weekend 、老yin 、大榄、我可以考虑。当时 weekend 发了飞猪上报团去珠峰的路线，感觉价格也不贵，但是因为不明确毕设的忙碌程度所以我们没定下具体的时间。</p><p>春节回到家我们也聊了一下，但是仍未确定时间。</p><p>开学不久他们三个人订好了机票和火车票，而我因为春招和毕设一度以为去不成了。接下来我春招安排好了，毕设也不是太忙，在他们出发前的那周下定决心走一波，订了从武昌到西安的火车票，西安到拉萨的火车票已经没了，只订了和他们同一趟车从西安到西宁的站票。就这样四个人的西藏游总算是定下来了。</p><h4 id="出发"><a href="#出发" class="headerlink" title="出发"></a>出发</h4><p>3 月 28 日晚， weekend 从南宁起飞，老yin 和大榄从桂林起飞，一起于 29 日凌晨抵达西安并住下，我 29 日早上从武汉坐火车前往西安和他们会合。白天他们在西安市区逛了逛，去了回民街、芙蓉园等，而我在火车上度过了旅程。我晚上到达之后去看了鼓楼、钟楼、回民街，吃了西羊市老孙家的羊肉泡馍(感觉不怎么好吃还贵)和陕拾叁的冰酪，然后回到酒店洗个澡就一起睡了(嘻嘻)。</p><h4 id="第二天"><a href="#第二天" class="headerlink" title="第二天"></a>第二天</h4><p>因为要赶 9 点多从西安到拉萨的火车，所以我们 7 点就起床了。洗漱之后收拾东西去吃了个早餐然后去超市买了些路上吃的东西，差不多就去取票进站候车了。顺便说一句，Z265 的候车室比普通候车室好，就是卫生间烟味很大，去上厕所真的顶不顺。西安站真的是一个老火车站了，我们上车之前从候车室走旧楼梯下楼的(一看就很有年代感)，然后走过一个通道去到列车那。我后来买的票很巧和他们三个买到同一节车厢(11号车厢)，也是硬座的最后一节车厢，没什么人坐，所以无座的我也有了坐的地方(开心)。一路上我们欣赏了黄土高原、西北戈壁的风景，见到了黄河，中间经过了兰州(真想下去吃碗兰州牛肉面)，那边的风景跟家乡差别真大，没什么植被，光秃秃的，比较干。一种没有生机的格调，荒凉孤寂的气氛扑面而来。晚上 7 点多到西宁，在那里换车，登上弥散式供氧列车，正式开始青藏高原之旅。由于已经开始天黑了，所以就欣赏不到路上的景色了。期间经过了青海湖，23:30 到达德令哈站。一上车我们旁边已经坐了一个特种兵老哥，一路上我们有的没的聊了很多。</p><h4 id="第三天"><a href="#第三天" class="headerlink" title="第三天"></a>第三天</h4><p>凌晨 2:20 到达格尔木站，停车时间较长，我下车感受了一下(试试看有没有高反)，下了车感觉比较冷，倒没有感觉缺氧，可能下车待的时间比较短，所以也不会有太大的反应吧。上面说的特种兵老哥就是在这站下车，说是先在格尔木适应一下再进藏。之前说了，我们在最后一节硬座车厢，有些座位没人坐，所以晚上我们找位置躺着睡了一段时间。车上还是挺暖的，应该是开了暖气吧。早上起来，太阳还没出来，从车窗看向外面是真的很美，高山草甸上覆盖着大片白雪。我们进入了无人区，全是没见过的景象，像极了《穿越星际》里外太空其他星球的景象，无人的戈壁，上面覆盖着冰雪。太阳出来的时候，阳光反射在白雪上照过来，真的美极了。我们拿手机拍拍拍照了很多照片。十点左右我们经过唐古拉山，外面一片白色，壮观极了。唐古拉山是青藏铁路的高点，过了这段海拔高度就会下降，中间经过错那，上面被大片浮冰覆盖，此时海拔高度已经在下降了，一路上还见到了很多经幡和雪山，大概在 12 点多到达那曲，下车感受了一下室外环境，舒服极了。那曲不大，看起来很适合生活。16:45 左右我们到达拉萨站，在这之前看了很多不一样的景色，感觉心灵得到了净化，心情很愉悦放松，那种感觉是从来没有过的，现在回想起来还是很舒适。拉萨站位于拉萨郊区，不是很大，但是挺宽敞的，出了站看到市区，感觉跟家乡的地级市差不多，没有很多高楼。我们坐了一辆公交去民宿，路过拉萨河上的大桥时远远就看到了布达拉宫，很是欣喜。民宿在当热中路，靠近色拉南路，当晚我们就在这住下了。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;记第一次西藏旅游&quot;&gt;&lt;a href=&quot;#记第一次西藏旅游&quot; class=&quot;headerlink&quot; title=&quot;记第一次西藏旅游&quot;&gt;&lt;/a&gt;记第一次西藏旅游&lt;/h3&gt;&lt;p&gt;去西藏的想法其实在 18 年秋季期就有了，考虑到工作后可能没那么多时间，所以打算毕业前五个人
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>test</title>
    <link href="https://sssglq.github.io/2019/12/15/test/"/>
    <id>https://sssglq.github.io/2019/12/15/test/</id>
    <published>2019-12-14T16:14:18.000Z</published>
    <updated>2019-12-15T10:09:55.467Z</updated>
    
    <content type="html"><![CDATA[<h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><ul><li>刚建好博客，接下来将专心写博客，分享学习心得</li><li>next 主题暂时配不上，先用着默认的主题</li><li>觉得写得好的，可以动动手分享给其他人</li><li>添加图片 <img src="https://images.unsplash.com/photo-1563373336-e8dd1e084c68?ixlib=rb-1.2.1&q=99&fm=jpg&crop=entropy&cs=tinysrgb&w=2048&fit=max&ixid=eyJhcHBfaWQiOjcwOTV9" alt="panda"></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;测试&quot;&gt;&lt;a href=&quot;#测试&quot; class=&quot;headerlink&quot; title=&quot;测试&quot;&gt;&lt;/a&gt;测试&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;刚建好博客，接下来将专心写博客，分享学习心得&lt;/li&gt;
&lt;li&gt;next 主题暂时配不上，先用着默认的主题&lt;/li&gt;
&lt;li&gt;觉
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>post</title>
    <link href="https://sssglq.github.io/2019/12/14/post/"/>
    <id>https://sssglq.github.io/2019/12/14/post/</id>
    <published>2019-12-14T15:49:44.000Z</published>
    <updated>2019-12-14T15:58:24.609Z</updated>
    
    <content type="html"><![CDATA[<h3 id="第一篇随笔"><a href="#第一篇随笔" class="headerlink" title="第一篇随笔"></a>第一篇随笔</h3><ul><li>内容不限，技术、摄影、篮球、旅游，欢迎一起交流</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;第一篇随笔&quot;&gt;&lt;a href=&quot;#第一篇随笔&quot; class=&quot;headerlink&quot; title=&quot;第一篇随笔&quot;&gt;&lt;/a&gt;第一篇随笔&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;内容不限，技术、摄影、篮球、旅游，欢迎一起交流&lt;/li&gt;
&lt;/ul&gt;

      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://sssglq.github.io/2019/12/14/hello-world/"/>
    <id>https://sssglq.github.io/2019/12/14/hello-world/</id>
    <published>2019-12-14T13:01:02.350Z</published>
    <updated>2019-12-14T13:01:02.351Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
      
    
    </summary>
    
    
    
  </entry>
  
</feed>
